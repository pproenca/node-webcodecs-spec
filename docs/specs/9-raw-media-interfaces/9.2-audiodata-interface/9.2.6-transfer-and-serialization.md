# 9.2.6. Transfer and Serialization

**The AudioData transfer steps (with value and dataHolder) are:**
: 1. If value’s [`[[Detached]]`](https://html.spec.whatwg.org/multipage/structured-data.html#detached) is `true`, throw a [`DataCloneError`](https://webidl.spec.whatwg.org/#datacloneerror) [`DOMException`](https://webidl.spec.whatwg.org/#idl-DOMException).

2.  For all [`AudioData`](#audiodata) internal slots in value, assign the value of each internal slot to a field in dataHolder with the same name as the internal slot.
3.  Run the [Close AudioData](#close-audiodata) algorithm with value.

**The AudioData transfer-receiving steps (with dataHolder and value) are:**
: 1. For all named fields in dataHolder, assign the value of each named field to the [`AudioData`](#audiodata) internal slot in value with the same name as the named field.

**The AudioData serialization steps (with value, serialized, and forStorage) are:**
: 1. If value’s [`[[Detached]]`](https://html.spec.whatwg.org/multipage/structured-data.html#detached) is `true`, throw a [`DataCloneError`](https://webidl.spec.whatwg.org/#datacloneerror) [`DOMException`](https://webidl.spec.whatwg.org/#idl-DOMException).

2.  If forStorage is `true`, throw a [`DataCloneError`](https://webidl.spec.whatwg.org/#datacloneerror).
3.  Let resource be the [media resource](#media-resource) referenced by value’s [`[[resource reference]]`](#dom-audiodata-resource-reference-slot).
4.  Let newReference be a new reference to resource.
5.  Assign newReference to |serialized.resource reference|.
6.  For all remaining [`AudioData`](#audiodata) internal slots (excluding [`[[resource reference]]`](#dom-audiodata-resource-reference-slot)) in value, assign the value of each internal slot to a field in serialized with the same name as the internal slot.

**The AudioData deserialization steps (with serialized and value) are:**
: 1. For all named fields in serialized, assign the value of each named field to the [`AudioData`](#audiodata) internal slot in value with the same name as the named field.

---

[← Back to 9.2. AudioData Interface](../../9-raw-media-interfaces/9.2-audiodata-interface/TOC.md)
