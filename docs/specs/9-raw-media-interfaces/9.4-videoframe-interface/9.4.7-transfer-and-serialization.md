# 9.4.7. Transfer and Serialization

**The VideoFrame transfer steps (with value and dataHolder) are:**
: 1.  If value’s [`[[Detached]]`](https://html.spec.whatwg.org/multipage/structured-data.html#detached) is `true`, throw a [`DataCloneError`](https://webidl.spec.whatwg.org/#datacloneerror) [`DOMException`](https://webidl.spec.whatwg.org/#idl-DOMException).
    
2.  For all [`VideoFrame`](#videoframe) internal slots in value, assign the value of each internal slot to a field in dataHolder with the same name as the internal slot.
    
3.  Run the [Close VideoFrame](#close-videoframe) algorithm with value.

**The VideoFrame transfer-receiving steps (with dataHolder and value) are:**
: 1.  For all named fields in dataHolder, assign the value of each named field to the [`VideoFrame`](#videoframe) internal slot in value with the same name as the named field.

**The VideoFrame serialization steps (with value, serialized, and forStorage) are:**
: 1.  If value’s [`[[Detached]]`](https://html.spec.whatwg.org/multipage/structured-data.html#detached) is `true`, throw a [`DataCloneError`](https://webidl.spec.whatwg.org/#datacloneerror) [`DOMException`](https://webidl.spec.whatwg.org/#idl-DOMException).
    
2.  If forStorage is `true`, throw a [`DataCloneError`](https://webidl.spec.whatwg.org/#datacloneerror).
    
3.  Let resource be the [media resource](#media-resource) referenced by value’s [`[[resource reference]]`](#dom-videoframe-resource-reference-slot).
    
4.  Let newReference be a new reference to resource.
    
5.  Assign newReference to |serialized.resource reference|.
    
6.  For all remaining [`VideoFrame`](#videoframe) internal slots (excluding [`[[resource reference]]`](#dom-videoframe-resource-reference-slot)) in value, assign the value of each internal slot to a field in serialized with the same name as the internal slot.

**The VideoFrame deserialization steps (with serialized and value) are:**
: 1.  For all named fields in serialized, assign the value of each named field to the [`VideoFrame`](#videoframe) internal slot in value with the same name as the named field.

---

[← Back to 9.4. VideoFrame Interface](../../9-raw-media-interfaces/9.4-videoframe-interface/TOC.md)
