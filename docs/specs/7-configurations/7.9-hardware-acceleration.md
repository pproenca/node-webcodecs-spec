# 7.9. Hardware Acceleration

```webidl
enum HardwareAcceleration {
  "no-preference",
  "prefer-hardware",
  "prefer-software",
};
```

When supported, hardware acceleration offloads encoding or decoding to specialized hardware. [`prefer-hardware`](#dom-hardwareacceleration-prefer-hardware) and [`prefer-software`](#dom-hardwareacceleration-prefer-software) are hints. While User Agents _SHOULD_ respect these values when possible, User Agents may ignore these values in some or all circumstances for any reason.

To prevent fingerprinting, if a User Agent implements [\[media-capabilities\]](#biblio-media-capabilities "Media Capabilities"), the User Agent _MUST_ ensure rejection or acceptance of a given [`HardwareAcceleration`](#enumdef-hardwareacceleration) preference reveals no additional information on top of what is inherent to the User Agent and revealed by [\[media-capabilities\]](#biblio-media-capabilities "Media Capabilities"). If a User Agent does not implement [\[media-capabilities\]](#biblio-media-capabilities "Media Capabilities") for reasons of fingerprinting, they _SHOULD_ ignore the [`HardwareAcceleration`](#enumdef-hardwareacceleration) preference.

NOTE: Good examples of when a User Agent can ignore [`prefer-hardware`](#dom-hardwareacceleration-prefer-hardware) or [`prefer-software`](#dom-hardwareacceleration-prefer-software) are for reasons of user privacy or circumstances where the User Agent determines an alternative setting would better serve the end user.

Most authors will be best served by using the default of [`no-preference`](#dom-hardwareacceleration-no-preference). This gives the User Agent flexibility to optimize based on its knowledge of the system and configuration. A common strategy will be to prioritize hardware acceleration at higher resolutions with a fallback to software codecs if hardware acceleration fails.

Authors are encouraged to carefully weigh the tradeoffs when setting a hardware acceleration preference. The precise tradeoffs will be device-specific, but authors can generally expect the following:

-   Setting a value of [`prefer-hardware`](#dom-hardwareacceleration-prefer-hardware) or [`prefer-software`](#dom-hardwareacceleration-prefer-software) can significantly restrict what configurations are supported. It can occur that the user’s device does not offer acceleration for any codec, or only for the most common profiles of older codecs. It can also occur that a given User Agent lacks a software based codec implementation.
    
-   Hardware acceleration does not simply imply faster encoding / decoding. Hardware acceleration often has higher startup latency but more consistent throughput performance. Acceleration will generally reduce CPU load.
    
-   For decoding, hardware acceleration is often less robust to inputs that are mislabeled or violate the relevant codec specification.
    
-   Hardware acceleration will often be more power efficient than purely software based codecs.
    
-   For lower resolution content, the overhead added by hardware acceleration can yield decreased performance and power efficiency compared to purely software based codecs.
    

Given these tradeoffs, a good example of using "prefer-hardware" would be if an author intends to provide their own software based fallback via WebAssembly.

Alternatively, a good example of using "prefer-software" would be if an author is especially sensitive to the higher startup latency or decreased robustness generally associated with hardware acceleration.

**no-preference**
: Indicates that the User Agent _MAY_ use hardware acceleration if it is available and compatible with other aspects of the codec configuration.

**prefer-software**
: Indicates that the User Agent _SHOULD_ prefer a software codec implementation. User Agents may ignore this value for any reason.

NOTE: This can cause the configuration to be unsupported on platforms where an unaccelerated codec is unavailable or is incompatible with other aspects of the codec configuration.

**prefer-hardware**
: Indicates that the User Agent _SHOULD_ prefer hardware acceleration. User Agents may ignore this value for any reason.

NOTE: This can cause the configuration to be unsupported on platforms where an accelerated codec is unavailable or is incompatible with other aspects of the codec configuration.

---

[← Back to 7. Configurations](../7-configurations/TOC.md)
