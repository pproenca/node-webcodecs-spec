# 7.8. VideoEncoderConfig

```webidl
dictionary VideoEncoderConfig {
  required DOMString codec;
  [EnforceRange] required unsigned long width;
  [EnforceRange] required unsigned long height;
  [EnforceRange] unsigned long displayWidth;
  [EnforceRange] unsigned long displayHeight;
  [EnforceRange] unsigned long long bitrate;
  double framerate;
  HardwareAcceleration hardwareAcceleration = "no-preference";
  AlphaOption alpha = "discard";
  DOMString scalabilityMode;
  VideoEncoderBitrateMode bitrateMode = "variable";
  LatencyMode latencyMode = "quality";
  DOMString contentHint;
};
```

NOTE: Codec-specific extensions to [`VideoEncoderConfig`](#dictdef-videoencoderconfig) are described in their registrations in the [\[WEBCODECS-CODEC-REGISTRY\]](#biblio-webcodecs-codec-registry 'WebCodecs Codec Registry').

To check if a [`VideoEncoderConfig`](#dictdef-videoencoderconfig) is a valid VideoEncoderConfig, run these steps:

1.  If [`codec`](#dom-videoencoderconfig-codec) is empty after [stripping leading and trailing ASCII whitespace](https://infra.spec.whatwg.org/#strip-leading-and-trailing-ascii-whitespace), return `false`.
2.  If [`width`](#dom-videoencoderconfig-width) = 0 or [`height`](#dom-videoencoderconfig-height) = 0, return `false`.
3.  If [`displayWidth`](#dom-videoencoderconfig-displaywidth) = 0 or [`displayHeight`](#dom-videoencoderconfig-displayheight) = 0, return `false`.
4.  Return `true`.

**codec, of type DOMString**
: Contains a [codec string](#codec-string) in config.codec describing the codec.

**width, of type unsigned long**
: The encoded width of output [`EncodedVideoChunk`](#encodedvideochunk)s in pixels, prior to any display aspect ratio adjustments.

The encoder _MUST_ scale any [`VideoFrame`](#videoframe) whose [`[[visible width]]`](#dom-videoframe-visible-width-slot) differs from this value.

**height, of type unsigned long**
: The encoded height of output [`EncodedVideoChunk`](#encodedvideochunk)s in pixels, prior to any display aspect ratio adjustments.

The encoder _MUST_ scale any [`VideoFrame`](#videoframe) whose [`[[visible height]]`](#dom-videoframe-visible-height-slot) differs from this value.

**displayWidth, of type unsigned long**
: The intended display width of output [`EncodedVideoChunk`](#encodedvideochunk)s in pixels. Defaults to [`width`](#dom-videoencoderconfig-width) if not present.

**displayHeight, of type unsigned long**
: The intended display height of output [`EncodedVideoChunk`](#encodedvideochunk)s in pixels. Defaults to [`width`](#dom-videoencoderconfig-width) if not present.

NOTE: Providing a [`displayWidth`](#dom-videoencoderconfig-displaywidth) or [`displayHeight`](#dom-videoencoderconfig-displayheight) that differs from [`width`](#dom-videoencoderconfig-width) and [`height`](#dom-videoencoderconfig-height) signals that chunks are to be scaled after decoding to arrive at the final display aspect ratio.

For many codecs this is merely pass-through information, but some codecs can sometimes include display sizing in the bitstream.

**bitrate, of type unsigned long long**
: The average bitrate of the encoded video given in units of bits per second.

NOTE: Authors are encouraged to additionally provide a [`framerate`](#dom-videoencoderconfig-framerate) to inform rate control.

**framerate, of type double**
: The expected frame rate in frames per second, if known. This value, along with the frame [`timestamp`](#dom-videoframe-timestamp), _SHOULD_ be used by the video encoder to calculate the optimal byte length for each encoded frame. Additionally, the value _SHOULD_ be considered a target deadline for outputting encoding chunks when [`latencyMode`](#dom-videoencoderconfig-latencymode) is set to [`realtime`](#dom-latencymode-realtime).

**hardwareAcceleration, of type HardwareAcceleration, defaulting to "no-preference"**
: Hint that configures hardware acceleration for this codec. See [`HardwareAcceleration`](#enumdef-hardwareacceleration).

**alpha, of type AlphaOption, defaulting to "discard"**
: Whether the alpha component of the [`VideoFrame`](#videoframe) inputs _SHOULD_ be kept or discarded prior to encoding. If [`alpha`](#dom-videoencoderconfig-alpha) is equal to [`discard`](#dom-alphaoption-discard), alpha data is always discarded, regardless of a [`VideoFrame`](#videoframe)’s [`[[format]]`](#dom-videoframe-format-slot).

**scalabilityMode, of type DOMString**
: An encoding [scalability mode identifier](https://www.w3.org/TR/webrtc-svc/#scalabilitymodes*) as defined by [\[WebRTC-SVC\]](#biblio-webrtc-svc 'Scalable Video Coding (SVC) Extension for WebRTC').

**bitrateMode, of type VideoEncoderBitrateMode, defaulting to "variable"**
: Configures encoding to use one of the rate control modes specified by [`VideoEncoderBitrateMode`](#enumdef-videoencoderbitratemode).

NOTE: The precise degree of bitrate fluctuation in either mode is implementation defined.

**latencyMode, of type LatencyMode, defaulting to "quality"**
: Configures latency related behaviors for this codec. See [`LatencyMode`](#enumdef-latencymode).

**contentHint, of type DOMString**
: An encoding [video content hint](https://www.w3.org/TR/mst-content-hint/#video-content-hints) as defined by [\[mst-content-hint\]](#biblio-mst-content-hint 'MediaStreamTrack Content Hints').

The User Agent _MAY_ use this hint to set expectations about incoming [`VideoFrame`](#videoframe)s and to improve encoding quality. If using this hint:

- The User Agent _MUST_ respect other explicitly set encoding options when configuring the encoder, whether they are codec-specific encoding options or not.
- The User Agent _SHOULD_ make a best-effort attempt to use additional configuration options to improve encoding quality, according to the goals defined by the corresponding [video content hint](https://www.w3.org/TR/mst-content-hint/#video-content-hints).

NOTE: Some encoder options are implementation specific, and mappings between [`contentHint`](#dom-videoencoderconfig-contenthint) and those options cannot be prescribed.

The User Agent _MUST NOT_ refuse the configuration if it doesn’t support this content hint. See [`isConfigSupported()`](#dom-videoencoder-isconfigsupported).

---

[← Back to 7. Configurations](../7-configurations/TOC.md)
