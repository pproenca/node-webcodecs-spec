# 8.2.2. Constructors

`EncodedVideoChunk(init)`

1.  If init.[`transfer`](#dom-encodedvideochunkinit-transfer) contains more than one reference to the same [`ArrayBuffer`](https://webidl.spec.whatwg.org/#idl-ArrayBuffer), then throw a [`DataCloneError`](https://webidl.spec.whatwg.org/#datacloneerror) [`DOMException`](https://webidl.spec.whatwg.org/#idl-DOMException).
    
2.  For each transferable in init.[`transfer`](#dom-encodedvideochunkinit-transfer):
    
    1.  If [`[[Detached]]`](https://html.spec.whatwg.org/multipage/structured-data.html#detached) internal slot is `true`, then throw a [`DataCloneError`](https://webidl.spec.whatwg.org/#datacloneerror) [`DOMException`](https://webidl.spec.whatwg.org/#idl-DOMException).
        
3.  Let chunk be a new [`EncodedVideoChunk`](#encodedvideochunk) object, initialized as follows
    
    1.  Assign `init.type` to [`[[type]]`](#dom-encodedvideochunk-type-slot).
        
    2.  Assign `init.timestamp` to [`[[timestamp]]`](#dom-encodedvideochunk-timestamp-slot).
        
    3.  If duration is present in init, assign `init.duration` to [`[[duration]]`](#dom-encodedvideochunk-duration-slot). Otherwise, assign `null` to [`[[duration]]`](#dom-encodedvideochunk-duration-slot).
        
    4.  Assign `init.data.byteLength` to [`[[byte length]]`](#dom-encodedvideochunk-byte-length-slot);
        
    5.  If init.[`transfer`](#dom-encodedvideochunkinit-transfer) contains an [`ArrayBuffer`](https://webidl.spec.whatwg.org/#idl-ArrayBuffer) referenced by init.[`data`](#dom-encodedvideochunkinit-data) the User Agent _MAY_ choose to:
        
        1.  Let resource be a new [media resource](#media-resource) referencing sample data in init.[`data`](#dom-encodedvideochunkinit-data).
            
    6.  Otherwise:
        
        1.  Assign a copy of init.[`data`](#dom-encodedvideochunkinit-data) to [`[[internal data]]`](#dom-encodedvideochunk-internal-data-slot).
            
4.  For each transferable in init.[`transfer`](#dom-encodedvideochunkinit-transfer):
    
    1.  Perform [DetachArrayBuffer](https://tc39.es/ecma262/#sec-detacharraybuffer) on transferable
        
5.  Return chunk.

---

[‚Üê Back to 8.2. EncodedVideoChunk Interface](../../8-encoded-media-interfaces-chunks/8.2-encodedvideochunk-interface/TOC.md)
